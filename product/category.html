<!--@layout(/layout/basic/layout.html)-->
<!--@css(/css/module/product/bvoat/category.css)-->

<article id="category">
    <section id="categoryTitle">
        <h1 class="displaynone">비보트 카테고리</h1>
        <h2>카테고리 모아보기</h2>
    </section>
    <section id="categorySearch" module="Layout_SearchHeader">
            <!--
            $category_page=/product/list.html
            -->
    <fieldset>
        <legend>검색</legend>
        <div class="searchForm">
            {$form.keyword}
            <button type="button" class="btnDelete">삭제</button>
        </div>
        <button type="button" class="btnSearch" onclick="{$action_search_submit}">검색</button>
    </fieldset>
    <ul class="searchTab">
        <li class="displaynone"><a href="#none">인기 검색어</a></li>
        <li class="selected"><a href="#none">최근 검색어</a></li>
    </ul>
    <div module="search_recentkeyword" style="display: block;">
        <p class="{$recent_none_display|display}">최근 검색어가 없습니다.</p>
        <ul class="{$recent_list_display|display}">
            <li>
                <a href="{$recent_keyword_url}">{$recent_keyword_name}</a>
                <button type="button" class="btnDelete" onclick="{$recent_keyword_remove}">삭제</button>
            </li>
            <li>
                <a href="{$recent_keyword_url}">{$recent_keyword_name}</a>
                <button type="button" class="btnDelete" onclick="{$recent_keyword_remove}">삭제</button>
            </li>
        </ul>
        <div class="button">
            <button type="button" class="btnDeleteAll" onclick="{$recent_keyword_remove_all}">검색기록 전체삭제</button>
        </div>
    </div>
    </section>
    <section id="categoryRecentMainList"></section>
    <section id="productCategory">
        <ul class="categoryList" module="Layout_category">
            <li><a href="/product/list.html{$param}">{$name}</a></li>
            <li><a href="/product/list.html{$param}">{$name}</a></li>
        </ul>
    </section>
    <section id="categoryTitle">
        <h2>가치태그 모아보기</h2>
    </section>
    <section id="tagCategory"></section>
</article>
<!--@import(/layout/basic/footer.html)-->
<script>
    const categorization = ['상품별 카테고리', '가치별 카테고리'];
    var swiper = new Swiper("#categorySwiper", {
        slidesPerView: 1,
        spaceBetween: 1,
        centeredSlides: true,
        pagination: {
          el: ".category_pagination",
          clickable: true,
          renderBullet: function (index, className) {
            return `<span class="swiper-pagination-bullet">
                <span class="tab_custom" data-index="${index}" role="button" aria-label=${categorization[index]}> ${categorization[index]}</span>
            </span>
            `;
        },
        },
    });

    // const createdParentCategory = () => {
    //     let parentCategoryArray = [];
    //     let allCategory = [];

    //     fetch(`/exec/front/Product/SubCategory`, {
    //     method: 'GET', // 또는 'PUT'
    //     headers: {
    //         'Content-Type': 'application/json',
    //         'Content-Type': 'application/x-www-form-urlencoded',
    //     },
    //     })
    //     .then((response) => response.json())
    //     .then((data) => {
    //         if (data === null || data === 'undefined') return false;
    //         data.forEach((el) => {
    //             if(!parentCategoryArray.includes(el.parent_cate_no)) {
    //                 parentCategoryArray.push(el.parent_cate_no);
    //             };
    //         });
    //         parentCategoryArray.forEach((el)=>{
    //             let tmpCateInfo = {
    //                 parent : '',
    //                 cate : []
    //             }
    //             tmpCateInfo.parent = el;
    //             allCategory.push(tmpCateInfo)
    //         });
    //         data.forEach((el,i)=>{
    //             allCategory.forEach((cate)=>{
    //                 if(cate.parent === el.parent_cate_no){
    //                     cate.cate.push(el)
    //                 }
    //             })
    //         })
    //     })
    //     return allCategory;
    // }
    // let resultParentCategory = createdParentCategory();
    // console.log("resultParentCategory",resultParentCategory)
    
    // const category_product = document.querySelector(".category_product");
    // const category_tag = document.querySelector(".category_tag");


    // console.log(resultParentCategory.length);

</script>
<!--@js(/js/jquery-3.5.1.min.js)-->
<!--@js(/js/module/layout/category.js)-->
