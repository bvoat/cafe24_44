<!--@layout(/layout/basic/layout.html)-->
<!--@css(/layout/basic/css/index.css)-->
<!--@css(/layout/basic/css/aos.css)-->
<script src="/js/aos.js"></script>
<article id="bvtHome">
    <!--보터 카운트-->
    <section id="indexUserCnt" class="index_user">
        <div id="joinbanner" class="joinbanner"><span>🎄</span> <em class="membercnt"></em>명이 가치소비를 함께하고 있어요</div>
    </section>
    <!--보터 카운트-->
    <!-- 메인 사각 배너 -->
    <div id="indexSquareBanner">
        <ul class="square_banner swiper-wrapper">
            <li class="swiper-slide">
                <a href="/member/event/event.html" title="비보트가 챙겨드리는 업사이클링 크리스마스"><img src="/bvtIMG/event/event_banner/221220_christmas_event_winner.png" alt="Merry Upcycling Christmas 비보트가 챙겨드리는 업사이클링 크리스마스 당첨자 발표"></a>
            </li>
            <li class="swiper-slide">
                <a href="/product/project.html?cate_no=1022"  title="최대 50%까지 임박 할인 프로모션"><img src="/bvtIMG/banner/indexbanner/221212_index_banner.jpg" alt="최대 50%까지 임박 할인 프로모션"></a>
            </li>
        </ul>
        <div class="swiper-pagination img_pagination"></div>
    </div>
    <!-- 메인 카테고리 메뉴 -->
    <section id="indexCategoryMenu">
        <ul>
            <li class="index_category"><a href="/product/list.html?cate_no=586"><div class="index_category_img_wrap"><img src="/web/product/medium/202210/8f52fb9cd966b4aeb8ce465bbbdc404c.jpg"/></div><p>친환경 아우터</p></a></li>
            <li class="index_category"><a href="/product/list.html?cate_no=714"><div class="index_category_img_wrap"><img src="/web/product/medium/202211/87f7b4d7b56eefd6a8a4bbabf13a2733.jpg"/></div><p>친환경 케이스</p></a></li>
            <li class="index_category"><a href="/product/list.html?cate_no=574"><div class="index_category_img_wrap"><img src="/web/product/medium/202208/ac6c465dfdbbfc45ab82fb5027669128.png"/></div><p>기부 액세서리</p></a></li>
            <li class="index_category"><a href="/product/list.html?cate_no=481"><div class="index_category_img_wrap"><img src="/bvtIMG/category/481.png"/></div><p>선인장 가죽</p></a></li>
            <li class="index_category"><a href="/product/list.html?cate_no=495"><div class="index_category_img_wrap"><img src="/bvtIMG/category/495.png"/></div><p>페트병 소재</p></a></li>
        </ul>
    </section>
    <!-- 메인 메뉴 -->
    <!-- 메인진열 섹션 -->
    <section id="indexListmain" class="index_list">
        <!-- 특가 -->
        <section id="discountListTitle">
            <h1>비보트 픽 임박 할인 ~80%</h1>
            <h2>1만원 이상 구매 시 무료배송</h2>
            <div id="discountListContents" class="list_contents_wrap">
                <div class="discount list_item_box big_img" module="product_listmain_207">
                    <!--
                        $count = 10
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
            <a class="button_anchor" href="/product/project.html?cate_no=1022" title="임박 할인 상품 보러가기">자세히 보기</a>
        </section>
        <!-- 베스트 -->
        <section id="weekTotalBestListTitle">
            <h1>가치소비 베스트</h1>
            <h2>보터들이 선택한 일상의 바른 가치</h2>
            <div id="weekTotalBestListContents" class="list_contents_wrap">
                <div class="weekbest list_item_box big_img" module="product_listmain_66">
                    <!--
                        $count = 10
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </section>
        <!-- 신규 브랜드 -->
        <section id="newBrandListTitle">
            <h1>신규 입점된 브랜드</h1>
            <h2>새로 입점된 가치소비 브랜드를 둘러보세요</h2>
            <div id="newBrandListContents"  class="list_contents_wrap newbrand">
                <ol class="list_item_box newbrand swiper-wrapper">
                   <li class="swiper-slide list_item"><a href="/minishop/fxng"><img src="/bvtIMG/index/newbrand/221208_new_fxng.png" alt=""></a></li>
                   <li class="swiper-slide list_item"><a href="/minishop/thereed"><img src="/bvtIMG/index/newbrand/221208_new_thereed.png" alt=""></a></li>
                   <li class="swiper-slide list_item"><a href="/minishop/zblack"><img src="/bvtIMG/index/newbrand/221208_new_zblack.png" alt=""></a></li>
                   <li class="swiper-slide list_item"><a href="/minishop/rebud"><img src="/bvtIMG/index/newbrand/221208_new_rebud.png" alt=""></a></li>
                </ol>
            </div>
        </section>
        <!-- 추천상품 -->
        <section id="recommendedItemsListTitle">
            <h1>비보트 추천 상품</h1>
            <h2>하나부터 시작하면 어렵지 않을 거예요</h2>
            <div class="recommended_category_wrap">
                <ul class="recommended_category_list swiper-wrapper">
                    <li class="recommended_category swiper-slide"><button id="all" class="change_listmain_btn active">ALL</button></li><li class="recommended_category swiper-slide"><button id="fashion" class="change_listmain_btn">패션</button></li><li class="recommended_category swiper-slide"><button id="beauty" class="change_listmain_btn">뷰티</button></li><li class="recommended_category swiper-slide"><button id="living" class="change_listmain_btn">리빙</button></li><li class="recommended_category swiper-slide"><button id="food" class="change_listmain_btn">푸드</button></li><li class="recommended_category swiper-slide"><button id="acc" class="change_listmain_btn">ACC</button></li>
                </ul>
            </div>
            <ul id="recommendedItemsListContents" class="list_contents_wrap">
                <li id="allListmain" class="recommendeditems list_item_box small_img_twoline" module="product_listmain_208">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
                <li id="fashionListmain" class="recommendeditems list_item_box small_img_twoline displaynone" module="product_listmain_209">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
                <li id="beautyListmain" class="recommendeditems list_item_box small_img_twoline displaynone" module="product_listmain_210">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
                <li id="livingListmain" class="recommendeditems list_item_box small_img_twoline displaynone" module="product_listmain_211">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
                <li id="foodListmain" class="recommendeditems list_item_box small_img_twoline displaynone" module="product_listmain_212">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
                <li id="accListmain" class="recommendeditems list_item_box small_img_twoline displaynone" module="product_listmain_213">
                    <!--
                        $count = 60
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                    <div class="swiper-pagination"></div>
                </li>
            </ul>
        </section>
        <!-- 무료배송 -->
        <section id="freeDeliveryListTitle">
            <h1>무료배송 브랜드 기획전</h1>
            <h2>배송비 없으면 착한 소비 더 쉬우니까</h2>
            <div class="freedelivery_wrap">
                <ul class="freedelivery_list swiper-wrapper">
                    <li class="freedelivery swiper-slide"><button id="graenn" class="freedelivery_btn active" data-url="/minishop/graenn"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_graenn.png"/></div><p>그라인</p></button></li><li class="freedelivery swiper-slide"><button id="zblack" class="freedelivery_btn" data-url="/minishop/zblack"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_zblack.png"/></div><p>지블랙</p></button></li><li class="freedelivery swiper-slide"><button id="mecret" class="freedelivery_btn" data-url="/minishop/osher"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_mecret.png"/></div><p>미크릿</p></button></li><li class="freedelivery swiper-slide"><button id="brewmay" class="freedelivery_btn" data-url="/minishop/brewmay"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_brewmay.png"/></div><p>브루메이</p></button></li><li class="freedelivery swiper-slide"><button id="scelmar" class="freedelivery_btn" data-url="/minishop/humaniora"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_scelmar.png"/></div><p>셀마르</p></button></li><li class="freedelivery swiper-slide"><button id="projectcoral" class="freedelivery_btn" data-url="/minishop/pjtcoral"><div class="freedelivery_img_wrap"><img src="/bvtIMG/index/freedeliverybrand/brandthumb/2201208_free_projectcoral.png"/></div><p>프로젝트코랄</p></button></li>
                </ul>
            </div>
            <ul id="freeDeliveryListContents" class="list_contents_wrap">
                <li id="graennListmain" class="freedeliveryitems list_item_box small_img_oneline" module="product_listmain_214">
                    <!--
                        $count = 50
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <li id="zblackListmain" class="freedeliveryitems list_item_box small_img_oneline displaynone" module="product_listmain_215">
                    <!--
                        $count = 180
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <li id="mecretListmain" class="freedeliveryitems list_item_box small_img_oneline displaynone" module="product_listmain_216">
                    <!--
                        $count = 50
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <li id="brewmayListmain" class="freedeliveryitems list_item_box small_img_oneline displaynone" module="product_listmain_217">
                    <!--
                        $count = 50
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <li id="scelmarListmain" class="freedeliveryitems list_item_box small_img_oneline displaynone" module="product_listmain_218">
                    <!--
                        $count = 50
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <li id="projectcoralListmain" class="freedeliveryitems list_item_box small_img_oneline displaynone" module="product_listmain_219">
                    <!--
                        $count = 50
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </li>
                <a id="brandAnchorBtn" class="button_anchor" href="/minishop/graenn" title="상품 보러가기">자세히 보기</a>
            </ul>
        </section>
        <!-- 트렌드-->
        <section id="trendListTitle">
            <h1>가치소비 이슈 트렌드</h1>
            <h2>써보고 소개하는 트렌드 아이템</h2>
            <div id="trendContents" class="list_contents_wrap">
                <div class="trend_banner">
                    <a href="/minishop/anarchia"><img src="/bvtIMG/banner/mainlistbanner/221208_mainlist_banner.png" /></a>
                </div>
                <div id="" class="trend list_item_box big_img" module="product_listmain_220">
                    <!--
                        $count = 10
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </section>
        <!-- 쇼룸 -->
        <section id="showRoomListTitle">
            <h1>브랜드 편집 SHOWROOM</h1>
            <h2>프라이탁 같은 업사이클링 브랜드 이모저모</h2>
            <div id="showRoomListContents" class="list_contents_wrap">
                <ol class="showroom list_item_box swiper-wrapper">
                    <li class="swiper-slide list_item"><a href="/minishop/reo119"><img src="/bvtIMG/index/showroom/221209_showroom_119reo.png" alt=""></a></li>
                    <li class="swiper-slide list_item"><a href="/minishop/rebud"><img src="/bvtIMG/index/showroom/221209_showroom_rebud.png" alt=""/></a></li>
                </ol>
            </div>
        </section>
    </div>
    <!-- 메인진열 섹션 -->
<!--@layout(/layout/basic/layout.html)-->
</article>
<!--@import(/layout/basic/footer.html)-->
<!--@define(cmc_log)-->
<script src="/layout/basic/js/index.js"></script>
<!-- AOS 초기화 -->
<script>
    AOS.init(); 
    /* 슬라이더 */
    // 상단 배너 슬라이드
    var swiper = new Swiper("#indexSquareBanner", {
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        autoplay: {
          delay: 2800,
          disableOnInteraction: false,
        },
        pagination: {
        el: ".img_pagination",
        clickable: true,
        type: "progressbar",
        },
    });
    // big width 181.74 메인진열 슬라이드
    var swiper = new Swiper(".big_img", {
        slidesPerView: 2.005,
        spaceBetween: 13.3,
    });
    // small width 124.38 메인진열 슬라이드 column2
    var swiper = new Swiper(".small_img_twoline", {
        slidesPerView: 3,
        slidesPerColumn: 2,
        // slidesPerGroup: 2,
        spaceBetween: 9.06,
        slidesPerColumnFill: 'row',       
        slidesPerGroup: 3,
        observer: true,
        observeParents: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
        pagination: {
            el: ".swiper-pagination",
        },
    });
    // small width 124.38 메인진열 슬라이드 column1
    var swiper = new Swiper(".small_img_oneline", {
        slidesPerView: 3,
        spaceBetween: 9.06,
        slidesPerGroup: 3,
        slidesPerColumnFill: 'row',
        observer: true,
        observeParents: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
    });
    // 브랜드 슬라이드
        var swiper = new Swiper(".newbrand", {
        slidesPerView: 2.2,
        spaceBetween: 0,
    });
    //추천상품 상단 버튼 슬라이드
    var swiper = new Swiper(".recommended_category_wrap", {
        slidesPerView: 6,
        spaceBetween: "1.8%",
      });
    //무료배송 브랜드 상단 버튼 슬라이드
    var swiper = new Swiper(".freedelivery_wrap", {
        slidesPerView: 5,
        spaceBetween: "1.5%",
    });
    // 쇼룸 슬라이드
    var swiper = new Swiper("#showRoomListContents", {
        slidesPerView: 1.4,
        spaceBetween: 10,
    });
</script>
<script>


//나머지 노드 찾기
const getSibiling = (nodearray, btn) => {
    return nodearray && [...nodearray].filter(node => node != btn);
}   
/* 추천상품 슬라이드 변경 */
const recommendBtnArray = document.querySelectorAll(".change_listmain_btn");
const recommendSlideArray = document.querySelectorAll(".recommendeditems");

    //추천상품 상단 버튼 클릭
    const clickChangeRecommendListmainButton = (event) => {
        const targetBtn = {
            btn: event.target,
            id: event.target.id,
            listmain: document.querySelector(`#${event.target.id}Listmain`),
            sibiling: getSibiling(recommendBtnArray, event.target),
        }
        //타겟 버튼의 클래스에 active를 추가(토글 안됨)
        targetBtn.btn.classList.add("active");
        //버튼 나머지에 active를 없앰
        [...targetBtn.sibiling].forEach((sibiling)=>{
            if(sibiling.classList.contains("active")) sibiling.classList.remove("active");
        })
        //버튼 나머지에 displaynone 추가
        const sibilingListmain = getSibiling(recommendSlideArray, targetBtn.listmain);
        [...sibilingListmain].forEach((sibiling)=>{
            if(!sibiling.classList.contains("displaynone")) sibiling.classList.add("displaynone");
        })
        //지정한 listmain을 표시
        targetBtn.listmain.classList.remove("displaynone");
    }
/* 추천상품 슬라이드 변경 */
/* 무료배송 슬라이드 변경 */
const freedeliveryBtnArray = document.querySelectorAll(".freedelivery_btn");
const freedeliverySlideArray = document.querySelectorAll(".freedeliveryitems");

    //무료배송 상단 버튼 클릭
    const clickChangeFreeDeliveryListmainButton = (event) => {
        console.log('event: ', event.currentTarget.dataset.url);
        const targetBrand = {
            btn: event.currentTarget,
            id: event.currentTarget.id,
            listmain: document.querySelector(`#${event.currentTarget.id}Listmain`),
            url: event.currentTarget.dataset.url,
            sibiling: getSibiling(freedeliveryBtnArray, event.currentTarget),
        }
        //자세히보기 href 변경
        document.getElementById("brandAnchorBtn").setAttribute("href", targetBrand.url);
        //타겟 버튼의 클래스에 active를 추가(토글 안됨)
        targetBrand.btn.classList.add("active");
        //버튼 나머지에 active를 없앰
        [...targetBrand.sibiling].forEach((sibiling)=>{
            if(sibiling.classList.contains("active")) sibiling.classList.remove("active");
        })
        //버튼 나머지에 displaynone 추가
        const sibilingListmain = getSibiling(freedeliverySlideArray, targetBrand.listmain);
        [...sibilingListmain].forEach((sibiling)=>{
            if(!sibiling.classList.contains("displaynone")) sibiling.classList.add("displaynone");
        })
        //지정한 listmain을 표시
        targetBrand.listmain.classList.remove("displaynone");
    }
/* 무료배송 슬라이드 변경 */

/* 가치소비 베스트 숫자 삽입 */

const weekBestItem = document.querySelectorAll(".weekbest>ul>.list_item");
console.log('weekBestItem: ', weekBestItem);
weekBestItem.forEach((item, i)=>{
    item.insertAdjacentHTML("afterbegin",`<p class="item_rank">${i+1}</p>`)
})

    /* 최종 실행 */
    window.addEventListener("DOMContentLoaded", ()=>{
        [...recommendBtnArray].forEach((btn)=>{
            btn.addEventListener("click", clickChangeRecommendListmainButton);
        });
    })
    window.addEventListener("DOMContentLoaded", ()=>{
        [...freedeliveryBtnArray].forEach((btn)=>{
            btn.addEventListener("click", clickChangeFreeDeliveryListmainButton);
        });
    })
    /* 최종 실행 */

</script>