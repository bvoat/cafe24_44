<!--@layout(/layout/basic/layout.html)-->
<!--@css(../css/module/member/module/join.css)-->

<article id="memberJoin" class="content">
    <section id="memberJoinTitle">
        <h1 class="displaynone">íšŒì›ê°€ì… í˜ì´ì§€</h1>
        <h2>ğŸ¤— 1ë¶„ì´ë©´ ê°€ì… ì™„ë£Œ!</h2>
        <h3>ì²« êµ¬ë§¤ ë¬´ë£Œë°°ì†¡ ì¿ í°ì´ ë°”ë¡œ ì§€ê¸‰ë©ë‹ˆë‹¤.</h3>
    </section>
    <section id="memberJoinField">
        <fieldset>
            <legend class="displaynone">íšŒì›ê°€ì…</legend>
            <!-- xans-member-join -->
            <div module="member_join">
                <section class="member_join_section">
                    <ul>
                        <!--
                        $returnUrl = /member/join_result.html
                        $personalName = ì´ë¦„
                        -->

                        <!-- ì•„ì´ë”” ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="member_id">ì•„ì´ë””</label>
                            <p class="member_join_input_wrap">
                                <input id="member_id" name="member_id" title="ì•„ì´ë””"
                                    fw-filter="isFill&amp;isFill&amp;isMin[4]&amp;isMax[16]&amp;isIdentity"
                                    fw-label="ì•„ì´ë””" fw-msg="" class="inputTypeText input_box small_mobile_input" placeholder="" value=""
                                    type="text" autofocus autocapitalize="off" required>
                                <button type="button" class="btnBasic input_btn" onclick="checkId('')">ì¤‘ë³µ í™•ì¸</button>
                            <p id="idMsg" class="val_check_msg"></p>
                            </p>
                        </li>
                        <!-- ì•„ì´ë”” ë -->
                        <!-- ë¹„ë°€ë²ˆí˜¸ ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="passwd">ë¹„ë°€ë²ˆí˜¸</label>
                            <p class="member_join_input_wrap">
                                <input id="passwd" class="input_box small_mobile_input" name="passwd" title="ë¹„ë°€ë²ˆí˜¸"
                                    fw-filter="isFill&amp;isMin[4]&amp;isMax[16]" fw-label="ë¹„ë°€ë²ˆí˜¸" fw-msg=""
                                    autocomplete="off" maxlength="16" 0="disabled" value=""
                                    placeholder="{$passwd_type_desc}" type="password" required>
                            </p>
                            
                            <p class="member_join_input_wrap">
                                <label class="input_label displaynone" for="user_passwd_confirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                                <input id="user_passwd_confirm" class="input_box small_mobile_input" name="user_passwd_confirm"
                                    title="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" fw-filter="isFill&amp;isMatch[passwd]" fw-label="ë¹„ë°€ë²ˆí˜¸ í™•ì¸"
                                    fw-msg="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ í™•ì¸í•´ì£¼ì„¸ìš”." autocomplete="off" maxlength="16" 0="disabled"
                                    value="" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" type="password" required>
                            <p id="pwConfirmMsg" class="val_check_msg"></p>
                            </p>
                        </li>
                        <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì¢…ë£Œ -->
                        <!-- ì´ë¦„ ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="name">ì´ë¦„</label>
                            <p class="member_join_input_wrap">
                                <input type="text" name="name" id="name" class="input_box small_mobile_input" title="ì´ë¦„"
                                    placeholder="ì´ë¦„ ì…ë ¥" maxlength="20" autocapitalize="off" required>
                            </p>
                        </li>
                        <!-- ì´ë¦„ ì¢…ë£Œ -->
                        <!-- íœ´ëŒ€ì „í™” ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="mobile2">íœ´ëŒ€ì „í™”</label>
                            <label class="input_label displaynone" for="mobile1">íœ´ëŒ€ì „í™” ì•ìë¦¬ ì„ íƒ</label>
                            <label class="input_label displaynone" for="mobile3">íœ´ëŒ€ì „í™” ë§ˆì§€ë§‰ 4ìë¦¬</label>
                            <p class="member_join_input_wrap">
                                <select id="mobile1" class="mobile_input_box" name="mobile[]" fw-filter="isNumber"
                                    fw-label="íœ´ëŒ€ì „í™”" fw-alone="N" fw-msg="" required>
                                    <option value="010" selected>010</option>
                                    <option value="011">011</option>
                                    <option value="016">016</option>
                                    <option value="017">017</option>
                                    <option value="018">018</option>
                                    <option value="019">019</option>
                                </select>
                                <input id="mobile2" class="input_box mobile_input_box" name="mobile[]"
                                    title="íœ´ëŒ€ì „í™” ê°€ìš´ë° 4ìë¦¬" maxlength="4" fw-filter="isNumber" pattern="[0-9]+"
                                    fw-label="íœ´ëŒ€ì „í™”" fw-alone="N" fw-msg="" value="" type="tel" required>
                                <input id="mobile3" class="input_box mobile_input_box" name="mobile[]"
                                    title="íœ´ëŒ€ì „í™” ë’· 4ìë¦¬" maxlength="4" fw-filter="isNumber" pattern="[0-9]+"
                                    fw-label="íœ´ëŒ€ì „í™”" fw-alone="N" fw-msg="" value="" type="tel" required>
                                <!-- íœ´ëŒ€ì „í™” ì¸ì¦ ì‹œì‘ -->

                                <button type="button" id="{$btn_action_verify_mobile}"
                                    class="input_btn {$display_verify_mobile|display}"
                                    onclick="{$action_verify_mobile}">ì¸ì¦ ë°›ê¸°</button>
                            </p>
                            <p class="val_check_msg gBlank5 {$bDisplayMobileVerifyInfoDefault|display}"
                                id="{$result_send_verify_mobile_fail}"></p>
                            <div class="member_join_input_wrap {$display_verify_mobile_confirm|display}"
                                id="{$confirm_verify_mobile}" id="{$confirm_verify_mobile}">
                                <div class=" member_join_input_wrap verify">
                                    <input id="verify_sms_number" name="verify_sms_number" fw-filter="isMax[15]"
                                        fw-label="verify_sms_number" fw-msg="" class="inputTypeText small_mobile_input" maxlength="15"
                                        value="" type="text" placeholder="ì¹´ì¹´ì˜¤í†¡ ë©”ì‹œì§€ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”">
                                    <span class="time" id="expiryTime"></span>
                                </div>
                                <button type="button" class="input_btn btnNormal" id="{$btn_verify_mobile_confirm}"
                                    onclick="{$action_verify_mobile_confirm}">í™•ì¸</button>
                            </div>
                            <!-- íœ´ëŒ€ì „í™” ì¸ì¦ ì¢…ë£Œ -->

                        </li>
                        <!-- íœ´ëŒ€ì „í™” ì¢…ë£Œ -->
                        <!-- ì´ë©”ì¼ ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="email1">ì´ë©”ì¼</label>
                            <p class="member_join_input_wrap">
                                <input id="email1" class="input_box" name="email" title="ì´ë©”ì¼"
                                    fw-filter="isFill&amp;isEmail" fw-label="ì´ë©”ì¼" fw-alone="N" fw-msg="" value=""
                                    type="email" autocomplete="on" autocapitalize="off" required>
                                <button type="button" class="btnNormal input_btn" onclick="checkEmail('')">ì¤‘ë³µ
                                    í™•ì¸</button>
                            <p id="emailMsg" class="val_check_msg"></p>
                            </p>
                        </li>
                        <!-- ì´ë©”ì¼ ì¢…ë£Œ -->
                        <!-- ë³„ëª… ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="nick_name">ë‹‰ë„¤ì„</label>
                            <p class="member_join_input_wrap">
                                <input id="nick_name" class="input_box small_mobile_input" name="nick_name" title="ë‹‰ë„¤ì„" fw-filter="isFill"
                                    fw-label="ë³„ëª…" fw-msg="" class="inputTypeText" placeholder="í•œê¸€ 2~10ì / ì˜ë¬¸ ëŒ€ì†Œë¬¸ì 4~20ì / ìˆ«ì í˜¼ìš©ê°€ëŠ¥" maxlength="20" value=""
                                    type="text" autocapitalize="off" required>
                            </p>
                        </li>
                        <!-- ë³„ëª… ì¢…ë£Œ -->
                        <!-- ì¶”ì²œì¸ì•„ì´ë”” ì‹œì‘ -->
                        <li class="member_join_list">
                            <label class="input_label" for="reco_id">ì¶”ì²œì¸ ì•„ì´ë””</label>
                            <p class="input_info_txt">ì—†ì„ ì‹œ ê³µë°±, ì…ë ¥í•˜ì‹œë©´ ë°”ë¡œ í¬ë£¨ ë“±ê¸‰ì´ ë©ë‹ˆë‹¤.<br>
                            ì¶”ì²œì¸ ì•„ì´ë””ëŠ” ê°€ì… í›„ 30ì¼ë™ì•ˆ ì…ë ¥í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                            <p class="member_join_input_wrap">
                                <input id="reco_id" class="input_box small_mobile_input" title="ì¶”ì²œì¸ ì•„ì´ë””" name="reco_id" fw-filter=""
                                    fw-label="ì¶”ì²œì¸ ID" fw-msg="" class="inputTypeText" placeholder="" value=""
                                    type="text" autocapitalize="off" required>
                            </p>
                        </li>
                        <!-- ì¶”ì²œì¸ì•„ì´ë”” ì¢…ë£Œ -->


                    </ul>
                </section>
                <section class="member_agree_section">
                    <!-- ì „ì²´ ë™ì˜ ì‹œì‘ -->
                    <div class="agreeAll">
                        <div class="agreeArea_title">
                            <input type="checkbox" id="sAgreeAllChecked" title="ëª¨ë“  ì•½ê´€ ë™ì˜" onchange="selectedAll(this)">
                            <label for="sAgreeAllChecked" class="label_all">ì „ì²´ ë™ì˜í•˜ê¸°</label>
                        </div>
                    </div>
                    <!-- ì „ì²´ ë™ì˜ ì¢…ë£Œ -->
                    <!-- ì´ìš©ì•½ê´€ ë™ì˜ ì‹œì‘ -->
                    <details class="agreeArea_control agreeArea_service">
                        <summary class="agreeArea_title">
                            <input id="agree_service_check0" title="ë¹„ë³´íŠ¸ ì´ìš©ì•½ê´€ ë™ì˜" name="agree_service_check[]"
                                fw-filter="/1/" fw-label="ì´ìš©ì•½ê´€ ë™ì˜" fw-msg="ì´ìš©ì•½ê´€ì— ë™ì˜ í•˜ì„¸ìš”"
                                class="ec-base-chk sAgreeAllChecked-chkbox" value="1" type="checkbox">
                            <label for="agree_service_check0" class="check agreeArea_label">ë¹„ë³´íŠ¸ ì´ìš© ì•½ê´€
                                <span>(í•„ìˆ˜)</span></label>
                            <span class="agreeArea_arr"></span>

                        </summary>
                        <div class="contents">
                            {$service_desc}
                        </div>
                    </details>
                    <!-- ì´ìš©ì•½ê´€ ë™ì˜ ì¢…ë£Œ -->
                    <!-- ê°œì¸ì •ë³´ì·¨ê¸‰ë°©ì¹¨ ë™ì˜ ì‹œì‘ -->
                    <details class="agreeArea_control agreeArea_private">
                        <summary class="agreeArea_title">
                            <input id="agree_privacy_check0" title="ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜" name="agree_privacy_check[]"
                                fw-filter="/1/" fw-label="ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë°©ì¹¨" fw-msg="ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë°©ì¹¨ì— ë™ì˜í•˜ì„¸ìš”"
                                class="ec-base-chk sAgreeAllChecked-chkbox" value="1" type="checkbox">
                            <label for="agree_privacy_check0" class="check">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë™ì˜ <span>(í•„ìˆ˜)</span></label>
                            <span class="agreeArea_arr"></span>
                        </summary>
                        <div class="contents">
                            {$privacy_desc}
                        </div>
                    </details>
                    <!-- ê°œì¸ì •ë³´ì·¨ê¸‰ë°©ì¹¨ ë™ì˜ ì¢…ë£Œ -->
                    <!-- SNS / Email ìˆ˜ì‹  ë™ì˜ ì‹œì‘ -->
                    <div class="agreeArea_marketing">
                        <div class="agreeArea_title">
                            <input type="checkbox" id="sMarketingAgreeAllChecked"
                                class="ec-base-chk sAgreeAllChecked-chkbox" title="ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜"
                                onchange="selectedMarketingAll(this)">
                            <label for="sMarketingAgreeAllChecked" class="check">í˜œíƒ/ì´ë²¤íŠ¸ ì•Œë¦¼ ìˆ˜ì‹  ë™ì˜
                                <span>(ì„ íƒ)</span></label>
                        </div>
                        <ul class="agereeArea_marketing_list">
                            <li class="agereeArea_marketing_sms">
                                <input id="is_sms0" name="is_sms" title="SMS ìˆ˜ì‹  ë™ì˜" fw-label="is_sms" fw-msg=""
                                    class="ec-base-chk sAgreeAllChecked-chkbox sMarketingAgreeAllChecked-chkbox"
                                    value="T" type="checkbox">
                                <label for="is_sms0">SMS ìˆ˜ì‹ ë™ì˜</label>
                            </li>
                            <li class="agereeArea_marketing_mail">
                                <input id="is_news_mail0" name="is_news_mail" title="ë©”ì¼ ìˆ˜ì‹  ë™ì˜" fw-label="is_news_mail"
                                    fw-msg=""
                                    class="ec-base-chk sAgreeAllChecked-chkbox sMarketingAgreeAllChecked-chkbox"
                                    value="T" type="checkbox">
                                <label for="is_news_mail0">ì´ë©”ì¼ ìˆ˜ì‹ ë™ì˜</label>
                            </li>
                        </ul>

                    </div>
                    <!-- SNS / Email ìˆ˜ì‹  ë™ì˜ ì¢…ë£Œ -->
                </section>
                <!-- xans-member-join ì¢…ë£Œ -->
            </div>
        </fieldset>
    </section>
</article>
<button type="submit" class="join_btn" onclick="memberJoinAction()">
    <p>ê°€ì… ì™„ë£Œ!</p>
</button>
<script>
    //ë™ì˜ ë‚´ detail node->arr
    const agreeAreaNode = document.querySelectorAll(".agreeArea_control");
    const agreeAreaControl = [...agreeAreaNode];

    //ì „ì²´ ë™ì˜ í•¨ìˆ˜
    const selectAllChkbox = document.querySelector("#sAgreeAllChecked");
    const sAgreeAllCheckedChkbox = document.querySelectorAll(".sAgreeAllChecked-chkbox");

    //ì „ì²´ ë™ì˜ í™•ì¸
    const selectedAll = (selectAll) => {
        //ìµœìƒë‹¨ ì „ì²´ ë™ì˜ í´ë¦­ ì‹œ ì „ì²´ ë™ì˜
        sAgreeAllCheckedChkbox.forEach((checkbox) => {
            checkbox.checked = selectAll.checked;
        })
    }

    //ë§ˆì¼€íŒ… ì „ì²´ ë™ì˜ í•¨ìˆ˜
    const selectedMarketingAll = (selectedMarketingAll) => {
        const sMarketingAgreeAllChecked = document.querySelectorAll(".sMarketingAgreeAllChecked-chkbox");
        // ë§ˆì¼€íŒ… í´ë¦­ ì‹œ ë§ˆì¼€íŒ… ë™ì˜
        sMarketingAgreeAllChecked.forEach((mtCheckbox) => {
            mtCheckbox.checked = selectedMarketingAll.checked;
        })
    }
    //return URL check code
    let params = decodeURIComponent(location.search);
    console.log("params", decodeURIComponent(params))
    let returnUrl = document.querySelector("#returnUrl");
    // const next_btn = document.querySelector(".btnSubmit");
    console.log("next returnUrl", returnUrl.value)

    if (params != undefined) {
        returnUrl.value = `/member/join_result.html${params}`;
    }
</script>