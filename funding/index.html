<!--@layout(/layout/basic/layout.html)-->
<!--@css(/css/module/product/product_more.css)-->
<!--@css(/css/module/product/bvoat/funding.css)-->


<section id="fundingIndex">
    <!--ë³´í„° ì¹´ìš´íŠ¸ ë°°ë„ˆ-->
    <section id="indexFundingSumbanner" class="index_sum">
        <div id="fundingsumbanner" class="fundingsumbanner"><span>ğŸ‘ </span> ì§€ê¸ˆê¹Œì§€ <em class="fundingsum"></em>ì›ì´ ì ˆì•½ëì–´ìš”!
        </div>
    </section>
    <!--ë³´í„° ì¹´ìš´íŠ¸ ë°°ë„ˆ-->
    <!-- í€ë”©ì¤‘ íƒ€ì´í‹€ -->
    <section id="fundingIndexPlayingTitle" class="indextitle">
        <h2>ë¹„ë³´íŠ¸ í€ë”©</h2>
        <h3>ê°€ì¹˜ì†Œë¹„, ì €ë ´í•œ ê°€ê²©ì— ë°°ì†¡ë¹„ ì—†ì´ ì†Œê°œí• ê²Œìš”</h3>
        <a href="http://pf.kakao.com/_Rxnhnxb" title="ì¹´ì¹´ì˜¤ í”Œì¹œ ë§ºê³  ì˜¤í”ˆ ì•Œë¦¼ ë°›ê¸°">
            <div class="bvt_kakao">ì¹´ì¹´ì˜¤ í”Œì¹œ ë§ºê³  ì˜¤í”ˆ ì•Œë¦¼ ë°›ê¸°</div>
        </a>
    </section>
    <!-- í€ë”©ì¤‘ íƒ€ì´í‹€ -->

    <!--í€ë”©ì¤‘ ë©”ì¸ì§„ì—´ 18ë²ˆ -->
    <section id="fundingListmain" class="funding_now">
        <div class="list_contents_wrap right-side-control ">
            <div class="list_item_box one_img" module="product_listmain_18">
                <!--
                    $count = 20
                    $basket_result = /product/add_basket.html
                    $basket_option = /product/basket_option.html
                -->
                <!--@import(/funding/module/funding_listmain.html)-->
            </div>
            <div class="swiper-pagination list_item_bullet"></div>
        </div>
    </section>

    <!-- í€ë”© ì¢…ë£Œ íƒ€ì´í‹€  -->
    <section id="fundingIndexClosingTitle" class="indextitle displaynone">
        <h2>ì¢…ë£Œëœ í€ë”©Â·ê³µêµ¬</h2>
        <h3>í•¨ê»˜ ê°€ì¹˜ë¥¼ ë”í–ˆë˜ ìƒí’ˆë“¤ì´ì—ìš”.</h3>
    </section>
    <!-- í€ë”© ì¢…ë£Œ íƒ€ì´í‹€  -->

    <!-- í€ë”© ì¢…ë£Œ ì•Œë¦¼ -->
    <section class="funding_end_banner displaynone">
        <div class="fundingbanner" id="fundingbanner"></div>
    </section>
    <!-- í€ë”© ì¢…ë£Œ ì•Œë¦¼ -->

    <!--í€ë”© ì¢…ë£Œ ë©”ì¸ì§„ì—´ 26ë²ˆ -->
    <section id="fundingEndListmain" class="funding_end displaynone">
        <div class=" listmain_26" module="product_listmain_26">
            <!--
                $count = 30
                $moreview = yes
                $cache = yes
            -->
            <!--@import(/funding/module/funding_end_listmain.html)-->
            <!-- ì£¼ì˜! íŒë§¤ ìƒí’ˆì´ í’ˆì ˆ ìƒíƒœë©´ 26ë²ˆ ëª¨ë“ˆì— ì§„ì—´ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. -->
        </div>
        <div id="product_listmore" module="product_listmore_26">
            <!--ê°œí–‰ ì£¼ì˜-->
            <a id="fundingmore" class="moreview_btn" href="#none" onclick="{$more_action}">
                ë”ë³´ê¸°(<span id="more_current_page_{$display_group}">{$current_page}</span>/<span
                    id="more_total_page_{$display_group}">{$total_page}</span>)
            </a>
        </div>
    </section>
</section>
<!--í€ë”© ì¢…ë£Œ ë©”ì¸ì§„ì—´ 26ë²ˆ -->



<!--setting-->
<!--@define(cmc_log)-->


<script>
    window.addEventListener("DOMContentLoaded", () => {
        // listmain18 ë‚´ ulë¡œ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë©´ ë°°ë„ˆ í‘œì‹œ
        if (document.querySelector(".xans-product-listmain-18>ul") == null) {
            console.log("none");
            document.querySelector("#fundingListmain").insertAdjacentHTML("beforeend", `<div class="fundingendbanner">â³<br><em>í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í€ë”©Â·ê³µêµ¬ê°€ ì—†ì–´ìš”!</em></div>`)
        } else {
            //ìˆìœ¼ë©´ ìƒí’ˆë§Œ í‘œì‹œ
            console.log("doing");
        }
    });



    /**
 * ë‚ ì§œ ê³„ì‚°
 */
    const calculationDate = () => {
        //ì¹´í˜24ì—ì„œ ë°›ì€ ë§ˆê° date
        const promoEndArray = document.querySelectorAll(".promotion_end");
        //í‘œì‹œí•  node
        const promoDateAreaArray = document.querySelectorAll(".promotion_date");

        promoEndArray.forEach((endDate, i) => {
            //Safari, iOS ëŒ€ì‘ ìœ„í•œ Date ê°€ê³µ (yyyy-mm-ddT00:00)
            const rawCafe24Date = endDate.value.split(" ");
            const endDay = rawCafe24Date[0] + "T" + rawCafe24Date[1];
            const today = new Date();
            const target = new Date(endDay);
            const gap = target - today;
            const diffDay = String(Math.floor(gap / (1000 * 60 * 60 * 24))).padStart(2, "");
            const diffHour = String(Math.floor((gap / (1000 * 60 * 60)) % 24)).padStart(2, "0");
            const diffMin = String(Math.floor((gap / (1000 * 60)) % 60)).padStart(2, "0");
            const diffSec = String(Math.floor(gap / 1000 % 60)).padStart(2, "0");
            if (target != 'Invalid Date') {
                if (gap <= 0) {
                    promoDateAreaArray[i].innerText = "ë§ˆê°";
                } else {
                    // promoDateAreaArray[i].innerText = `${diffDay}ì¼ ${diffHour}:${diffMin}:${diffSec}`;
                    promoDateAreaArray[i].innerText = `${diffDay}ì¼ ë‚¨ì•˜ì–´ìš”!`;
                }
            } else {
                promoDateAreaArray[i].innerText = "";
                clearInterval(promotionTimer)
            }
        })
    };
    let promotionTimer = setInterval(calculationDate, 1000);
    const sumCount = document.querySelector(".fundingsum");
    numberCounting(sumCount, "173451236")
</script>