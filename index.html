<!--@layout(/layout/basic/layout.html)-->
<!--@css(/layout/basic/css/index.css)-->
<!--@css(/layout/basic/css/aos.css)-->
<script src="/js/aos.js"></script>
<article id="bvtHome">
    <!--ë³´í„° ì¹´ìš´íŠ¸-->
    <section id="indexUserCnt" class="index_user">
        <div id="joinbanner" class="joinbanner"><span>ğŸŒ </span> ë¹„ë³´íŠ¸ì—ì„œ <em class="membercnt"></em><em>ëª…</em>ì´ ê°€ì¹˜ì†Œë¹„ë¥¼ í•¨ê»˜í•˜ëŠ”
            ì¤‘!
        </div>
    </section>
    <!--ë³´í„° ì¹´ìš´íŠ¸-->
    <!-- ë©”ì¸ ì‚¬ê° ë°°ë„ˆ -->
    <!-- @import(/main/module/index_slide.html) -->

    <!-- ë©”ì¸ì§„ì—´ ì„¹ì…˜ -->
    <section id="indexListmain" class="index_list">
        <!-- í€ë”© -->
        <div id="listmainFunding" class="listmain">
            <h3>â° ì§„í–‰ ì¤‘ì¸ í€ë”©<a class="listmain_arrow displaynone "></a></h3>
            <div class="list_contents_wrap right-side-control ">
                <div class="list_item_box one_img" module="product_listmain_18">
                    <!--
                        $count = 20
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/funding/module/funding_listmain.html)-->
                </div>
                <div class="swiper-pagination list_item_bullet"></div>
            </div>
        </div>
        <!-- ìƒˆë¡œ ì…ì ëœ ë¸Œëœë“œ  -->
        <div id="listmainBrand" class="listmain">
            <h3>ğŸ¡ ìƒˆë¡œ ì…ì ëœ ë¸Œëœë“œ<a class="listmain_arrow displaynone"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box brand">
                    <ul class="swiper-wrapper">
                        <li class="swiper-slide list_item"><a href="/minishop/fxng"><img
                                    src="/bvtIMG/banner/newbrand/fxng.png" alt="ë¸Œëœë“œ í ë¯¸ë‹ˆìƒµ ë°”ë¡œê°€ê¸°"></a></li>
                        <li class="swiper-slide list_item"><a href="/minishop/thereed"><img
                                    src="/bvtIMG/banner/newbrand/thereed.png" alt="ë¸Œëœë“œ ë”ë¦¬ë“œ ë¯¸ë‹ˆìƒµ ë°”ë¡œê°€ê¸°"></a></li>
                        <li class="swiper-slide list_item"><a href="/minishop/zblack"><img
                                    src="/bvtIMG/banner/newbrand/zblack.png" alt="ë¸Œëœë“œ ì§€ë¸”ë™ ë¯¸ë‹ˆìƒµ ë°”ë¡œê°€ê¸°"></a></li>
                        <li class="swiper-slide list_item"><a href="/minishop/rebud"><img
                                    src="/bvtIMG/banner/newbrand/rebud.png" alt="ë¸Œëœë“œ ë¦¬ë²„ë“œ ë¯¸ë‹ˆìƒµ ë°”ë¡œê°€ê¸°"></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- ì£¼ê°„ ë² ìŠ¤íŠ¸ -->
        <div id="listmainTopValue" class="listmain">
            <h3>ğŸ‘ ë¹„ë³´íŠ¸ ì£¼ê°„ BEST<a class="listmain_arrow displaynone"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box best weekbest" module="product_listmain_226">
                    <!--
                        $count = 10
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </div>
        <!-- í…Œë§ˆ -->
        <div id="listmainTheme_1" class="listmain listmain_pagination" module="product_listmain_227">
            <h3>{$category_title_text}<a href="/product/list.html?cate_no=1018" class="listmain_arrow"
                    title="{$category_title_text}"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box listmain_theme">
                    <!--
                        $count = 30
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </div>
        <!-- í…Œë§ˆ -->
        <div id="listmainTheme_2" class="listmain listmain_pagination" module="product_listmain_228">
            <h3>{$category_title_text}<a href="/product/list.html?cate_no=627" class="listmain_arrow"
                    title="{$category_title_text}"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box listmain_theme">
                    <!--
                        $count = 30
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </div>
        <!-- í…Œë§ˆ -->
        <div id="listmainTheme_3" class="listmain listmain_pagination" module="product_listmain_229">
            <h3>{$category_title_text}<a href="/product/list.html?cate_no=662" class="listmain_arrow"
                    title="{$category_title_text}"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box listmain_theme">
                    <!--
                        $count = 30
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </div>
        <!-- í…Œë§ˆ -->
        <div id="listmainTheme_4" class="listmain listmain_pagination" module="product_listmain_230">
            <h3>{$category_title_text}<a href="/product/list.html?cate_no=1074" class="listmain_arrow"
                    title="{$category_title_text}"></a></h3>
            <div class="list_contents_wrap">
                <div class="list_item_box listmain_theme">
                    <!--
                        $count = 30
                        $basket_result = /product/add_basket.html
                        $basket_option = /product/basket_option.html
                    -->
                    <!--@import(/product/product_module/listmain/listmain.html)-->
                </div>
            </div>
        </div>
        <!--@import(/main/module/board_8.html)-->
    </section>
    <!-- ë©”ì¸ì§„ì—´ ì„¹ì…˜ -->
    <!--@layout(/layout/basic/layout.html)-->
</article>
<!--@import(/layout/basic/footer.html)-->
<!--@define(cmc_log)-->
<script src="/layout/basic/js/index.js"></script>
<!-- AOS ì´ˆê¸°í™” -->
<script>
    AOS.init();
    /* ìŠ¬ë¼ì´ë” */
    // ìƒë‹¨ ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ
    var swiper = new Swiper("#indexSquareBanner", {
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        autoplay: {
            delay: 3500,
            disableOnInteraction: false,
        },
    });
    // Funding ë©”ì¸ì§„ì—´ ìŠ¬ë¼ì´ë“œ
    var swiper = new Swiper(".one_img", {
        slidesPerView: 1,
        spaceBetween: 0,
        pagination: {
            el: ".list_item_bullet",
            clickable: true,
        },
    });
    // Brand ë©”ì¸ì§„ì—´ ìŠ¬ë¼ì´ë“œ
    var swiper = new Swiper(".brand", {
        slidesPerView: 2.16168,
        spaceBetween: 10,
    });
    // ì¬êµ¬ë§¤
    var swiper = new Swiper(".best", {
        slidesPerView: 2.2227,
        spaceBetween: 10,
    });
    // í…Œë§ˆ
    var swiper = new Swiper(".listmain_theme", {
        slidesPerView: 1.7,
        spaceBetween: 10,
        freeMode: {
            enabled: true,
            minimumVelocity: 2,
            momentumBounceRatio: 0.1,
            momentumRatio: 0.5,
            momentumVelocityRatio: 0.5,
        },
    });
</script>
<script>


    //ë‚˜ë¨¸ì§€ ë…¸ë“œ ì°¾ê¸°
    const getSibiling = (nodearray, btn) => {
        return nodearray && [...nodearray].filter(node => node != btn);
    }

    /* ë”ë³´ê¸° ì„¸íŒ… */
    const moreview_listmain = document.querySelectorAll(".moreview .prdList");
    //ì´ˆê¸° ë¡œë”© ì‹œ 4ê°œ ì œì™¸í•˜ê³  ëª¨ë‘ displaynone ì²˜ë¦¬
    const hideMoreview = () => {
        moreview_listmain.forEach(list => {
            [...list.children].forEach((item, i) => {
                i > 3 ?
                    item.classList.add("displaynone") :
                    null;

            });
        });
    };

    /* ë”ë³´ê¸° ë²„íŠ¼ */
    //display noneì¸ ê°’ ëª¨ì„ ë°°ì—´
    let none_arr = [];
    const clickMoreviewBtn = () => {
        const moreviewBtn = document.querySelectorAll(".moreview_btn");
        moreviewBtn.forEach(el => {
            el.addEventListener("click", (e) => {
                //display noneì´ ìˆëŠ” ìƒíƒœì—ì„œì˜ ì´ë²¤íŠ¸
                const buttonClass = e.currentTarget.dataset.btn;
                const selectList = document.querySelector(`.list_item_box.${buttonClass}>.prdList`);

                //ë”ë³´ê¸° ëë‚¬ëŠ”ì§€ ì²´í¬ (item ì¤‘ display noneì¸ê²Œ ìˆëŠ”ì§€ ê²€ì‚¬)
                const clickListItem = selectList.children;
                if ([...clickListItem].filter((item) => { return window.getComputedStyle(item).display === 'none' }).length != 0) {
                    //clickTagListItem ì¤‘ displayê°€ noneì¸ ê²ƒ ì°¾ì•„ì„œ 4ê°œ ë°”ê¾¸ê¸°
                    [...clickListItem].forEach((item) => {
                        if (window.getComputedStyle(item).display === 'none') {
                            none_arr.push(item);
                        }
                    });
                    console.log('none_arr: ', none_arr.length);

                    if (none_arr.length > 4) {
                        //index 0-3ê¹Œì§€ 4ê°œì˜ ìƒí’ˆ list flexë¡œ ë³€ê²½
                        for (let i = 0; i < 4; i++) {
                            none_arr[i].classList.remove("displaynone");
                        }
                        //display none ê°’ ê°€ì§„ ë°°ì—´ ì´ˆê¸°í™”
                        none_arr = [];
                    } else if (none_arr.length < 4) {
                        console.log("none_arr", none_arr)
                        none_arr.forEach(item => {
                            item.classList.remove("displaynone");
                        });
                        //ë”ë³´ê¸° ë²„íŠ¼ ì‚­ì œ
                        e.currentTarget.classList.add("displaynone");
                    }
                } else {
                    //ë”ë³´ê¸° ë²„íŠ¼ ì‚­ì œ
                    e.currentTarget.classList.add("displaynone");
                }
            })
        })
    }
    window.addEventListener("DOMContentLoaded", () => {
        hideMoreview();
        clickMoreviewBtn();
    })



    /* ìµœì¢… ì‹¤í–‰ */
    // window.addEventListener("DOMContentLoaded", () => {
    //     [...recommendBtnArray].forEach((btn) => {
    //         btn.addEventListener("click", clickChangeRecommendListmainButton);
    //     });
    // })
    // window.addEventListener("DOMContentLoaded", () => {
    //     [...freedeliveryBtnArray].forEach((btn) => {
    //         btn.addEventListener("click", clickChangeFreeDeliveryListmainButton);
    //     });
    // })
    /* ìµœì¢… ì‹¤í–‰ */

</script>