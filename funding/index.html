<!--@layout(/layout/basic/layout.html)-->
<!--@css(/css/module/product/product_more.css)-->
<!--@css(/css/module/product/bvoat/funding.css)-->

<section id="fundingIndex">

    <section id="fundingIndexPlayingTitle" class="padding2 indextitle m20 m108">
        <h2>지금 진행 중이에요.</h2>
        <h3>책임 있는 생산에 가치있는 한 표를 함께해요.</h3>
    </section>
    <section id="fundingListmain" class="funding_now">
        <div class="funding_list listmain_18" module="product_listmain_18">
            <!--펀딩 메인진열-->
            <!--
                $count = 10
                $basket_result = /product/add_basket.html
                $basket_option = /product/basket_option.html
            -->
            <!--@import(/funding/module/funding_listmain.html)-->
            <!-- 주의! 판매 상품이 품절 상태면 18번 모듈에 진열되지 않습니다. -->
        </div>
    </section>


    <section id="fundingIndexClosingTitle" class="padding2 indextitle m20">
        <h2>종료된 펀딩·공구</h2>
        <h3>함께 가치를 더했던 상품들이에요.</h3>
    </section>

    <section class="funding_list funding_end_banner padding2">
        <div class="fundingbanner" id="fundingbanner"></div>
    </section>

    <section id="fundingEndListmain" class="funding_end">
        <div class="funding_list listmain_26" module="product_listmain_26">
            <!--펀딩 종료진열-->
            <!--
                $count = 3
                $moreview = yes
                $cache = yes
            -->
            <!--@import(/funding/module/funding_listmain.html)-->
            <!-- 주의! 판매 상품이 품절 상태면 26번 모듈에 진열되지 않습니다. -->
        </div>
        <div id="product_listmore" module="product_listmore_26">
            <!--개행 주의-->
            <a id="fundingmore" class="moreview_btn" href="#none" onclick="{$more_action}">
                더보기(<span id="more_current_page_{$display_group}">{$current_page}</span>/<span
                    id="more_total_page_{$display_group}">{$total_page}</span>)
            </a>
        </div>
    </section>
</section>

<!--setting-->
<!--@define(cmc_log)-->


<script>
    // 넘어온 값이 빈값인지 체크합니다.
    // !value 하면 생기는 논리적 오류를 제거하기 위해
    // 명시적으로 value == 사용
    // [], {} 도 빈값으로 처리
    var isEmpty = function (value) {
        if (value == "" || value == null || value == undefined || (value != null && typeof value == "object" && !Object.keys(value).length)) {
            return true
        } else {
            return false
        }
    };

    if (!isEmpty(document.querySelector(".listmain_18"))) {
        console.log("not empty");
    } else{
        console.log("empty");
        document.querySelector("#fundingListmain").insertAdjacentHTML("beforeend", `<div class="fundingendbanner">⏳<br><em>현재 진행 중인 펀딩·공구가 없어요!</em></div>`)
    }
</script>